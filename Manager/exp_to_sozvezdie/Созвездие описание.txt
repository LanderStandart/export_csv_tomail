Установка выгрузки Созвездие

Добавить поля:

ALTER TABLE USERS
ADD D$SRVUPDDT DM_DATETIME

ALTER TABLE USERS
ADD D$UUID DM_UUID_NULL

ALTER TABLE DOCS
ADD DAYZ DM_DATE

ALTER TABLE DOC_DETAIL
ADD WARE_ID DM_UUID_NULL



Добавить триггер
SET SQL DIALECT 3;


SET TERM ^ ;



CREATE OR ALTER TRIGGER DOC_DETAIL_BIU0_WARE FOR DOC_DETAIL
ACTIVE BEFORE INSERT OR UPDATE POSITION 0
AS
begin

  SELECT P.WARE_ID FROM PARTS P WHERE P.ID=NEW.PART_ID AND P.g$profile_id=NEW.G$PROFILE_ID INTO NEW.ware_id;
  --SELECT P.WARE_ID FROM PARTS P WHERE P.ID=NEW.PART_ID INTO NEW.ware_id;
end
^


SET TERM ; ^

